EXPLAIN EXTENDED select count(*) from lineitem;

### с данными о IO
```sql

[tpchdb] 15:23:09>
[tpchdb] 15:23:09>
[tpchdb] 15:23:10> select count(*) as cnt1  from lineitem;
+-----------+
| cnt1      |
+-----------+
| 300005811 |
+-----------+
1 row in set (0.01 sec)

[tpchdb] 15:23:34> SELECT
    query_sql,
    return_rows,
    elapsed_time,           -- общее время (мкс)
    execute_time,           -- время выполнения
    get_plan_time,          -- время получения плана
    row_cache_hit,          -- попадания в row cache
    bloom_filter_cache_hit,
    memstore_read_row_count,
    queue_time,
    disk_reads,             -- физические чтения с диска
    block_cache_hit,        -- попадания в block cache
    row_cache_hit,          -- попадания в row cache
    bloom_filter_cache_hit,
    memstore_read_row_count,
    ssstore_read_row_count,
    data_block_read_cnt,
    data_block_cache_hit,
    index_block_read_cnt,
    index_block_cache_hit,
    is_hit_plan,            -- попал ли в plan cache
    plan_type,
    trace_id
FROM oceanbase.GV$OB_SQL_AUDIT
WHERE
    tenant_id = (SELECT EFFECTIVE_TENANT_ID())
    AND query_sql LIKE '%select count(*) as cnt1  from lineitem%'
    AND request_time > (time_to_usec(now()) - 300000000)
ORDER BY request_time DESC
LIMIT 20;

+----------------------------------------+-------------+--------------+--------------+---------------+------------+------------+-----------------+---------------+------------------------+-------------------------+------------------------+---------------------+----------------------+----------------------+-----------------------+-------------+-----------+-----------------------------------+
| query_sql                              | return_rows | elapsed_time | execute_time | get_plan_time | queue_time | disk_reads | block_cache_hit | row_cache_hit | bloom_filter_cache_hit | memstore_read_row_count | ssstore_read_row_count | data_block_read_cnt | data_block_cache_hit | index_block_read_cnt | index_block_cache_hit | is_hit_plan | plan_type | trace_id                          |
+----------------------------------------+-------------+--------------+--------------+---------------+------------+------------+-----------------+---------------+------------------------+-------------------------+------------------------+---------------------+----------------------+----------------------+-----------------------+-------------+-----------+-----------------------------------+
| select count(*) as cnt1  from lineitem |           1 |         6381 |         3161 |          3183 |         18 |          0 |               0 |             0 |                      0 |                       0 |                      0 |                   0 |                    0 |                    0 |                     0 |           0 |         3 | YB42C0A82098-000645352CAEC066-0-0 |
+----------------------------------------+-------------+--------------+--------------+---------------+------------+------------+-----------------+---------------+------------------------+-------------------------+------------------------+---------------------+----------------------+----------------------+-----------------------+-------------+-----------+-----------------------------------+
1 row in set (3.38 sec)

[tpchdb] 15:24:00>
[tpchdb] 15:24:00> select count(*) as cnt2  from lineitem;
+-----------+
| cnt2      |
+-----------+
| 300005811 |
+-----------+
1 row in set (0.01 sec)

[tpchdb] 15:24:18> SELECT * FROM oceanbase.GV$OB_SQL_AUDIT
WHERE tenant_id = (SELECT EFFECTIVE_TENANT_ID())
  AND query_sql LIKE '%select count(*) as cnt2  from lineitem%'
  AND request_time > (time_to_usec(now()) - 300000000)  -- последние 5 минут в микросекундах
ORDER BY request_time DESC
LIMIT 20;
+----------------+----------+------------+-------------+-----------------------------------+------------+----------------+-------------+-----------+-------------+---------------------+---------+-----------+------------+----------------+--------+---------+----------------------------------+----------------------------------------+---------+---------------+-------------+---------------+----------+-------+--------+--------+-----------+------------------------+---------+-----------------+--------+------+--------+------+-------+---------------+-------------+------------+-------------------+-----------------+-----------------------+-------------+-----------+-----------+--------------+-----------------+-------------+------------------+--------------+----------+---------------+------------+-------------+---------------+--------------+-----------------------+-----------------------+-------------------+---------------+---------------+------------------------+-----------------+------------+-----------+------------+-------------------+-------------------------+------------------------+---------------------+----------------------+----------------------+-----------------------+---------------------+-------------------+---------------------------------+---------------------+-----------------------+-------------------+------------+--------------------+-------------------+------------------+-------+---------------------+--------------+-----------------------+---------------+---------------------+--------------------+--------------+-----------+---------------+---------------------+------------------+--------------------------------------+-------------+-----------------+----------------------------------+-----------+-------------------------------+------------------------------+------------+------------------+-------------------+--------------------+----------------------------+-------------+----------------+
| SVR_IP         | SVR_PORT | REQUEST_ID | SQL_EXEC_ID | TRACE_ID                          | SID        | CLIENT_IP      | CLIENT_PORT | TENANT_ID | TENANT_NAME | EFFECTIVE_TENANT_ID | USER_ID | USER_NAME | USER_GROUP | USER_CLIENT_IP | DB_ID  | DB_NAME | SQL_ID                           | QUERY_SQL                              | PLAN_ID | AFFECTED_ROWS | RETURN_ROWS | PARTITION_CNT | RET_CODE | QC_ID | DFO_ID | SQC_ID | WORKER_ID | EVENT                  | P1TEXT  | P1              | P2TEXT | P2   | P3TEXT | P3   | LEVEL | WAIT_CLASS_ID | WAIT_CLASS# | WAIT_CLASS | STATE             | WAIT_TIME_MICRO | TOTAL_WAIT_TIME_MICRO | TOTAL_WAITS | RPC_COUNT | PLAN_TYPE | IS_INNER_SQL | IS_EXECUTOR_RPC | IS_HIT_PLAN | REQUEST_TIME     | ELAPSED_TIME | NET_TIME | NET_WAIT_TIME | QUEUE_TIME | DECODE_TIME | GET_PLAN_TIME | EXECUTE_TIME | APPLICATION_WAIT_TIME | CONCURRENCY_WAIT_TIME | USER_IO_WAIT_TIME | SCHEDULE_TIME | ROW_CACHE_HIT | BLOOM_FILTER_CACHE_HIT | BLOCK_CACHE_HIT | DISK_READS | RETRY_CNT | TABLE_SCAN | CONSISTENCY_LEVEL | MEMSTORE_READ_ROW_COUNT | SSSTORE_READ_ROW_COUNT | DATA_BLOCK_READ_CNT | DATA_BLOCK_CACHE_HIT | INDEX_BLOCK_READ_CNT | INDEX_BLOCK_CACHE_HIT | BLOCKSCAN_BLOCK_CNT | BLOCKSCAN_ROW_CNT | PUSHDOWN_STORAGE_FILTER_ROW_CNT | REQUEST_MEMORY_USED | EXPECTED_WORKER_COUNT | USED_WORKER_COUNT | SCHED_INFO | FUSE_ROW_CACHE_HIT | PS_CLIENT_STMT_ID | PS_INNER_STMT_ID | TX_ID | SNAPSHOT_VERSION    | REQUEST_TYPE | IS_BATCHED_MULTI_STMT | OB_TRACE_INFO | PLAN_HASH           | LOCK_FOR_READ_TIME | PARAMS_VALUE | RULE_NAME | PARTITION_HIT | TX_INTERNAL_ROUTING | TX_STATE_VERSION | FLT_TRACE_ID                         | PL_TRACE_ID | PLSQL_EXEC_TIME | FORMAT_SQL_ID                    | STMT_TYPE | TOTAL_MEMSTORE_READ_ROW_COUNT | TOTAL_SSSTORE_READ_ROW_COUNT | PROXY_USER | SEQ_NUM          | NETWORK_WAIT_TIME | PLSQL_COMPILE_TIME | INSERT_DUPLICATE_ROW_COUNT | CCL_RULE_ID | CCL_MATCH_TIME |
+----------------+----------+------------+-------------+-----------------------------------+------------+----------------+-------------+-----------+-------------+---------------------+---------+-----------+------------+----------------+--------+---------+----------------------------------+----------------------------------------+---------+---------------+-------------+---------------+----------+-------+--------+--------+-----------+------------------------+---------+-----------------+--------+------+--------+------+-------+---------------+-------------+------------+-------------------+-----------------+-----------------------+-------------+-----------+-----------+--------------+-----------------+-------------+------------------+--------------+----------+---------------+------------+-------------+---------------+--------------+-----------------------+-----------------------+-------------------+---------------+---------------+------------------------+-----------------+------------+-----------+------------+-------------------+-------------------------+------------------------+---------------------+----------------------+----------------------+-----------------------+---------------------+-------------------+---------------------------------+---------------------+-----------------------+-------------------+------------+--------------------+-------------------+------------------+-------+---------------------+--------------+-----------------------+---------------+---------------------+--------------------+--------------+-----------+---------------+---------------------+------------------+--------------------------------------+-------------+-----------------+----------------------------------+-----------+-------------------------------+------------------------------+------------+------------------+-------------------+--------------------+----------------------------+-------------+----------------+
| 192.168.32.152 |     2882 |  260086647 |   223190956 | YB42C0A82098-000645352CAEC080-0-0 | 3221707606 | 192.168.32.118 |       50022 |      1002 | app_tenant  |                1002 |  200001 | root      |          0 | 192.168.32.118 | 500685 | tpchdb  | EB5F0AA369F812C2CA2D361FE12FB311 | select count(*) as cnt2  from lineitem |   22632 |             0 |           1 |            18 |        0 |     0 |      0 |      0 |         0 | px loop condition wait | address | 140556677902736 |        |    0 |        |    0 |     0 |           107 |           7 | NETWORK    | WAITED SHORT TIME |            1058 |                  2316 |           3 |         1 |         3 |            0 |               0 |           0 | 1765542258224134 |         5797 |        0 |             2 |         23 |           0 |          3006 |         2751 |                     0 |                     0 |                 0 |             0 |             0 |                      0 |               0 |          0 |         0 |          0 |                 3 |                       0 |                      0 |                   0 |                    0 |                    0 |                     0 |                   0 |                 0 |                               0 |             6970856 |                     0 |                 0 | NULL       |                  0 |                -1 |               -1 |     0 | 1765542258226346000 |            2 |                     0 | NULL          | 7535456618298009312 |                  0 |              |           |             1 |                   0 |                0 | 000645c0-5723-285a-bca6-fce97cf4aa57 | NULL        |               0 | 76EC92315C3873E95F9A377F8EB6326D | SELECT    |                             0 |                            0 |            | 1765542258229522 |                 0 |                  0 |                          0 |           0 |              0 |
+----------------+----------+------------+-------------+-----------------------------------+------------+----------------+-------------+-----------+-------------+---------------------+---------+-----------+------------+----------------+--------+---------+----------------------------------+----------------------------------------+---------+---------------+-------------+---------------+----------+-------+--------+--------+-----------+------------------------+---------+-----------------+--------+------+--------+------+-------+---------------+-------------+------------+-------------------+-----------------+-----------------------+-------------+-----------+-----------+--------------+-----------------+-------------+------------------+--------------+----------+---------------+------------+-------------+---------------+--------------+-----------------------+-----------------------+-------------------+---------------+---------------+------------------------+-----------------+------------+-----------+------------+-------------------+-------------------------+------------------------+---------------------+----------------------+----------------------+-----------------------+---------------------+-------------------+---------------------------------+---------------------+-----------------------+-------------------+------------+--------------------+-------------------+------------------+-------+---------------------+--------------+-----------------------+---------------+---------------------+--------------------+--------------+-----------+---------------+---------------------+------------------+--------------------------------------+-------------+-----------------+----------------------------------+-----------+-------------------------------+------------------------------+------------+------------------+-------------------+--------------------+----------------------------+-------------+----------------+
1 row in set (6.86 sec)

[tpchdb] 15:24:44>


```
## рабочий способ на не нагруженной базе 
```sql
select last_trace_id();
YB420A151A75-0006487E7B3B2FE5-0-0

SELECT * FROM oceanbase.GV$OB_SQL_AUDIT
WHERE tenant_id = (SELECT EFFECTIVE_TENANT_ID())
and trace_id ='YB420A151A75-0006487E7B3B2FE5-0-0'
  AND request_time > (time_to_usec(now()) - 300000000)  
ORDER BY request_time DESC
LIMIT 20;
```
